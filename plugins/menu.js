const config = require('../config')
const {cmd , commands} = require('../command')
const os = require("os")
const {runtime} = require('../lib/functions')
const axios = require('axios')

cmd({
  pattern: "menu",
  desc: "Commands panel",
  react: 'üìÉ',
  filename: __filename
}, async (bot, message, args, options) => {
  const { from, quoted, body, reply } = options;

  try {
    // Menu Text
    const menuText = `‚ï≠‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
‚îÇ *Creator* : Lasmitha Praveeith
‚îÇ *Version* : v0.1
‚îÇ *Uptime*  : ${runtime(process.uptime())}
‚îÇ *RAM Usage* : ${(process.memoryUsage().heapUsed / 1024 / 1024).toFixed(2)}MB
‚îÇ *Host Name* : ${require('os').hostname()}
‚ï∞‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
‚ï≠‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
‚îÇüìÉ *LIST MENU*
‚îÇ   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚îÇ _1_ *‚ùÇ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö menu‚ùÇ*
‚îÇ _2_ *‚ùÇ·¥è·¥°…¥·¥á Ä menu‚ùÇ*
‚îÇ _3_ *‚ùÇ…¢ Ä·¥è·¥ú·¥ò ·¥ç·¥á…¥·¥ú‚ùÇ*
‚îÇ _4_ *‚ùÇ·¥Ñ·¥è…¥·¥†·¥á Ä·¥õ menu‚ùÇ*
‚îÇ _5_ *‚ùÇ·¥Ä…™ ·¥ç·¥á…¥·¥ú‚ùÇ*
‚îÇ _6_ *‚ùÇÍú±·¥á·¥Ä Ä·¥Ñ ú menu‚ùÇ*
‚îÇ _7_ *‚ùÇÍú∞·¥ú…¥ menu‚ùÇ*
‚îÇ _8_ *‚ùÇ ô·¥ú…¢ menu‚ùÇ*
‚ï∞‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã

*üåü Reply the Number you want to select*

> ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è  ü·¥Ä·¥ã·¥Ä-·¥ç·¥Ö üí≠`;

    // Send Menu Message
    const sentMenuMessage = await bot.sendMessage(from, {
      image: { url: "https://i.ibb.co/N21xLgs/20241205-223523.jpg" },
      caption: menuText
    }, { quoted: message });

    const menuMessageId = sentMenuMessage.key.id;

    // Listen for replies to the menu message
    bot.ev.on("messages.upsert", async event => {
      const newMessage = event.messages[0];
      if (!newMessage.message) return;

      const userReply = newMessage.message.conversation || newMessage.message.extendedTextMessage?.text;
      const isReplyToMenu = newMessage.message.extendedTextMessage?.contextInfo.stanzaId === menuMessageId;

      if (isReplyToMenu) {
        let responseText = '';
        switch (userReply) {
          case '1':
            responseText = `‚ï≠‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
> ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö ·¥ç·¥á…¥·¥ú üíê
‚ï∞‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
‚ï≠‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
*üé∂ .Íú±·¥è…¥…¢*
> ( è·¥è·¥ú·¥õ·¥ú ô·¥á Íú±·¥è…¥…¢ ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)

*‚ù∑ .Íú±·¥è…¥…¢2*
> ( è·¥è·¥ú·¥õ·¥ú ô·¥á Íú±·¥è…¥…¢ ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)

*üìΩÔ∏è .·¥†…™·¥Ö·¥á·¥è*
> (  è·¥è·¥ú·¥õ·¥ú ô·¥á ·¥†…™·¥Ö·¥á·¥è ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)

*‚ù∑ .·¥†…™·¥Ö·¥á·¥è2*
> (  è·¥è·¥ú·¥õ·¥ú ô·¥á ·¥†…™·¥Ö·¥á·¥è ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)

*üí∏ .Íú∞ ô*
> (Íú∞ ô ·¥†…™·¥Ö·¥á·¥è ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)

*‚ù∑ .Íú∞ ô2*
> (Íú∞ ô ·¥†…™·¥Ö·¥á·¥è ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)

*üí≥ .·¥õ…™·¥ã·¥õ·¥è·¥ã*
> (·¥õ…™·¥ã·¥õ·¥è·¥ã ·¥†…™·¥Ö·¥á·¥è ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)

*‚ù∑ .·¥õ…™·¥ã·¥õ·¥è·¥ã2*
> (·¥õ…™·¥ã·¥õ·¥è·¥ã ·¥†…™·¥Ö·¥á·¥è ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)

*üïØÔ∏è .…™…¢*
> (…™…¥·¥õ·¥Ä…¢ Ä·¥Ä·¥ç ·¥†…™·¥Ö·¥á·¥è ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)

*üìö .…¢·¥Ö Ä…™·¥†·¥á*
> (…¢·¥è·¥è…¢·¥á ü Íú∞…™ ü·¥á ·¥Ö·¥è·¥° ü·¥è·¥Ä·¥Ö)

*üëæ .·¥Ä·¥ò·¥ã*
> (·¥Ä·¥ò·¥ò ·¥Ä·¥ò·¥ã ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)

*üè∑Ô∏è .·¥çÍú∞…™ Ä·¥á*
> (·¥ç…™·¥Ö…™·¥ÄÍú∞…™ ü·¥á Íú∞…™ ü·¥á ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)

*üîû .x·¥†…™·¥Ö·¥á·¥è*
> (Íú±·¥áx ·¥†…™·¥Ö·¥á·¥è ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)

*üîû .·¥ò…™Íú±Íú± è ô·¥Ö ü*
> (Íú±·¥áx ·¥†…™·¥Ö·¥á·¥è ·¥Ö·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö)
‚ï∞‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã

> > ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è  ü·¥Ä·¥ã·¥Ä-·¥ç·¥Ö üí≠`;
            break;
          case '2':
            responseText = `‚ï≠‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
> ·¥è·¥°…¥·¥á Ä ·¥ç·¥á…¥·¥ú üë®‚Äçüíª
‚ï∞‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
‚ï≠‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
*‚öôÔ∏è .Íú±·¥á·¥õ·¥õ…™…¥…¢Íú±*
> ( ô·¥è·¥õ Íú±·¥á·¥õ·¥õ…™…¥…¢Íú± ·¥Ñ ú·¥Ä…¥…¢ Ä)

*üß¨ . Ä·¥áÍú±·¥õ·¥Ä Ä·¥õ·¥á*
> ( ô·¥è·¥õ  Ä·¥áÍú±·¥õ·¥Ä Ä·¥õ·¥á)

*üîí . ô ü·¥è·¥Ñ ü*
> ( ô ü·¥è·¥Ñ·¥ã ·¥Ñ ú·¥Ä·¥õ)

*üîì .·¥ú…¥ ô ü·¥è·¥Ñ·¥ã*
> (·¥ú…¥ ô ü·¥è·¥Ñ·¥ã ·¥Ñ ú·¥Ä·¥õ)

*ü™† .·¥Ñ ü·¥á·¥Ä Ä·¥Ñ ú·¥Ä·¥õÍú±*
> (·¥Ñ ú·¥Ä·¥õ ·¥Ñ ü·¥á·¥Ä Ä)

*ü´ß .·¥ä…™·¥Ö*
> (·¥Ñ ú·¥Ä·¥õ ·¥ä…™·¥Ö)

*ü™¨ .…¢·¥ä…™·¥Ö*
> (…¢ Ä·¥è·¥ú·¥ò ·¥ä…™·¥ÖÍú±)

*ü™™ .Íú∞·¥ú ü·¥ò·¥ò*
> (Íú±·¥á·¥õ ·¥ò Ä·¥èÍú∞…™ ü·¥á ·¥ò ú·¥è·¥õ·¥è)

*üïØÔ∏è . ü·¥á·¥Ä·¥†·¥á*
> (…¢ Ä·¥è·¥ú·¥ò  ü·¥á·¥Ä·¥†·¥á)

‚ï∞‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã

> > ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è  ü·¥Ä·¥ã·¥Ä-·¥ç·¥Ö üí≠`;
            break;
          case '3':
            responseText = `‚ï≠‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
> …¢ Ä·¥è·¥ú·¥ò ·¥ç·¥á…¥·¥ú üë•
‚ï∞‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
‚ï≠‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
*üë§ .·¥Ä·¥Ö·¥Ö*
> (…¢ Ä·¥è·¥ú·¥ò ·¥ç·¥Ä·¥ç·¥ç ô·¥úÍú± ·¥Ä·¥Ö·¥Ö)

*üö™ .…™…¥·¥†…™·¥õ·¥á*
> (…™…¥·¥†…™·¥õ·¥á ·¥õ·¥è …¢ Ä·¥è·¥ú·¥ò)

*üî´ .·¥ã…™·¥Ñ·¥ã*
> (…¢ Ä·¥è·¥ú·¥ò ·¥ç·¥Ä·¥ç ô·¥úÍú±·¥á ·¥ã…™·¥Ñ·¥ã)

*üé≤ .·¥Ä·¥ò·¥ò Ä·¥è·¥†·¥á*
> (…¢ Ä·¥è·¥ú·¥ò ·¥ç·¥Ä·¥ç ô·¥úÍú±·¥á ·¥Ä·¥ò·¥ò Ä·¥è·¥†·¥á)

*‚ùå . Ä·¥á·¥ä·¥á·¥Ñ·¥õ*
> (…¢ Ä·¥è·¥ú·¥ò ·¥Ä·¥ò·¥ò Ä·¥è·¥†·¥á  Ä·¥á·¥ä·¥á·¥Ñ·¥õ)

*üèÜ .·¥ò Ä·¥è·¥ç·¥è·¥õ·¥á*
> (…¢ Ä·¥è·¥ú·¥ò ·¥Ä·¥Ö·¥ç…™…¥ Íú±·¥á·¥õ)

*üé≠ .·¥Ö·¥á·¥ç·¥è·¥õ·¥á*
> (…¢ Ä·¥è·¥ú·¥ò ·¥Ä·¥Ö·¥ç…™…¥  Ä·¥á·¥ç·¥è·¥†·¥á)

*üîï .·¥ç·¥ú·¥õ·¥á*
> (…¢ Ä·¥è·¥ú·¥ò ·¥Ä·¥Ö·¥ç…™…¥ ·¥è…¥ ü…™ Íú±·¥á·¥õ)

*üîä .·¥Ö·¥á ü*
> (…¢ Ä·¥è·¥ú·¥ò ·¥çÍú±…¢ ·¥Ö·¥á ü)

*üîä .·¥ú…¥·¥ç·¥ú·¥õ·¥á*
> (…¢ Ä·¥è·¥ú·¥ò ·¥Ñ ú·¥Ä·¥õ ·¥è·¥ò·¥á…¥)

*üëë .·¥õ·¥Ä…¢·¥Ä·¥Ö·¥ç…™…¥*
> (…¢ Ä·¥è·¥ú·¥ò ·¥Ä·¥Ö·¥ç…™…¥ ·¥õ·¥Ä…¢.)

*üëÅÔ∏è . Ä·¥áQ·¥ú·¥áÍú±·¥õÍú±*
> (…¢ Ä·¥è·¥ú·¥ò  Ä·¥áQ·¥ú·¥áÍú±·¥õÍú±.)

*‚ö∞Ô∏è .·¥á…¥·¥Ö*
> (…¢ Ä·¥è·¥ú·¥ò ·¥á…¥·¥Ö.)

‚ï∞‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã

> > ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è  ü·¥Ä·¥ã·¥Ä-·¥ç·¥Ö üí≠`;
            break;
          case '4':
            responseText = `‚ï≠‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
> ·¥Ñ·¥è…¥·¥†·¥á Ä·¥õ ·¥ç·¥á…¥·¥ú üåÄ
‚ï∞‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
‚ï≠‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã
*üöÄ .Íú±·¥õ…™·¥Ñ·¥ã·¥á Ä*
> (…™·¥ç…¢ ·¥õ·¥è ·¥Ñ·¥è…¥·¥†·¥á Ä·¥õ Íú±·¥õ…™·¥Ñ·¥ã·¥á Ä)
‚ï∞‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚óã

> > ¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è  ü·¥Ä·¥ã·¥Ä-·¥ç·¥Ö üí≠`;
            break;
          case '5':
            responseText = `kk`;
            break;
          case '6':
            responseText = `kk`;
            break;
          case '7':
            responseText = `kk`;
            break;
          case '8':
            responseText = `kk`;
            break;
          default:
            responseText = "Invalid option! Please reply with a number from 1 to 9.";
        }

        // Send the appropriate response
        await bot.sendMessage(from, { text: responseText }, { quoted: newMessage });
      }
    });
  } catch (error) {
    console.error(error);
    reply(`Error: ${error.message}`);
  }
});
